<?php
/** @var $data \WidRestApiDocumentator\DataInterface */
$data = $this->data;
$config = $data->getConfig();
$resourceSet = $data->getResourceSet();
/** @var $resource \WidRestApiDocumentator\ResourceInterface */
/** @var $param \WidRestApiDocumentator\ParamInterface */
$esc = $this->plugin('EscapeHtml');
?>
<h1><?= $config->getName() ?> <span class="label label-info"><?= $config->getVersion()?></span></h1>

<?php if ($this->showBackLink): ?>
<p><a href="<?= $this->url('rest-api-docs')?>"><i class="icon-chevron-left"></i> Go back to list</a></p>
<?php endif;?>

<?php foreach($resourceSet as $resource): ?>
<div class="entrypoint">
    <span class="api-method api-method-<?= strtolower($esc($resource->getMethod()))?>"><?= $esc($resource->getMethod())?></span>
    <span class="api-url"><?= $esc($resource->getUrl())?></span>
    <p class="api-description muted"><?= $esc($resource->getDescription()); ?></p>
    <?= $this->partial('wid-rest-api-documentator/partials/params', $resource->getParams()); ?>
</div>
<?php endforeach; ?>